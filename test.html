<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<style>
    /* ë°°ê²½ ë° ëª¨ë‹¬ ê¸°ë³¸ ì„¤ì • */
    .modal-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex; justify-content: center; align-items: center;
        z-index: 1000;
        font-family: 'Segoe UI', sans-serif;
    }

    .modal-card {
        background: white;
        width: 400px;
        padding: 40px 30px;
        border-radius: 16px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        text-align: center;
        position: relative;
    }

    .modal-title {
        font-size: 1.2rem;
        font-weight: 700;
        color: #333;
        margin-bottom: 40px;
    }

    /* --- [í•µì‹¬] ì…ë ¥ì°½ ë˜í¼ (ì•„ì´ì½˜ + ì¸í’‹ + íˆ´íŒ ìœ„ì¹˜ ê¸°ì¤€) --- */
    .input-wrapper {
        position: relative;
        margin-bottom: 40px;
        width: 100%;
    }

    /* 1. ì—°í•„ ì•„ì´ì½˜ */
    .input-icon {
        position: absolute;
        left: 5px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        color: #999;
        pointer-events: none; /* ì•„ì´ì½˜ í´ë¦­í•´ë„ ì¸í’‹ì— í¬ì»¤ìŠ¤ ê°€ë„ë¡ */
    }

    /* 2. ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
    .custom-input {
        width: 100%;
        padding: 10px 10px 10px 35px; /* ì™¼ìª½ íŒ¨ë”©ì„ ì¤˜ì„œ ì•„ì´ì½˜ ê³µê°„ í™•ë³´ */
        font-size: 1.1rem;
        border: none;
        border-bottom: 2px solid #ddd;
        outline: none;
        text-align: center; /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
        transition: border-color 0.3s;
        box-sizing: border-box;
        background: transparent;
    }

    .custom-input:focus {
        border-bottom-color: #3b82f6;
    }

    /* 3. íˆ´íŒ (Tooltip) ìŠ¤íƒ€ì¼ */
    .tooltip {
        position: absolute;
        bottom: 100%; /* ì…ë ¥ì°½ ë°”ë¡œ ìœ„ */
        left: 50%;
        transform: translateX(-50%); /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
        background-color: #ef4444; /* ê²½ê³  ë ˆë“œ */
        color: white;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 0.85rem;
        font-weight: 600;
        white-space: nowrap;
        opacity: 0; /* í‰ì†Œì—” ì•ˆ ë³´ì„ */
        visibility: hidden;
        transition: opacity 0.3s, transform 0.3s;
        margin-bottom: 10px; /* ì…ë ¥ì°½ê³¼ ê°„ê²© */
        pointer-events: none;
    }

    /* íˆ´íŒ ë§í’ì„  ê¼¬ë¦¬ */
    .tooltip::after {
        content: "";
        position: absolute;
        top: 100%; /* íˆ´íŒ ë°”ë‹¥ */
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #ef4444 transparent transparent transparent;
    }

    /* íˆ´íŒ í™œì„±í™” í´ë˜ìŠ¤ */
    .tooltip.show {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(-5px); /* ì‚´ì§ ìœ„ë¡œ ë– ì˜¤ë¥´ëŠ” íš¨ê³¼ */
    }

    /* ë²„íŠ¼ ê·¸ë£¹ */
    .btn-group {
        display: flex;
        gap: 10px;
        justify-content: center;
    }

    .btn {
        padding: 12px 0;
        width: 100%;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.2s;
        font-size: 1rem;
    }

    .btn-cancel { background: #f3f4f6; color: #666; }
    .btn-cancel:hover { background: #e5e7eb; }

    .btn-confirm { background: #3b82f6; color: white; }
    .btn-confirm:hover { background: #2563eb; }

</style>
</head>
<body>

    <div class="modal-overlay">
        <div class="modal-card">
            <div class="modal-title">ë‹‰ë„¤ì„ ë³€ê²½</div>
            
            <div class="input-wrapper">
                <span class="input-icon">âœï¸</span>
                
                <input type="text" id="nickInput" class="custom-input" placeholder="ìƒˆ ë‹‰ë„¤ì„ (ìµœëŒ€ 7ì)" maxlength="7">
                
                <div id="limitTooltip" class="tooltip">ìµœëŒ€ 7ê¸€ìê¹Œì§€ë§Œ ì…ë ¥ ê°€ëŠ¥í•´ìš”! ğŸ˜…</div>
            </div>

            <div class="btn-group">
                <button class="btn btn-cancel">ì·¨ì†Œ</button>
                <button class="btn btn-confirm">í™•ì¸</button>
            </div>
        </div>
    </div>

    <script>
        const input = document.getElementById('nickInput');
        const tooltip = document.getElementById('limitTooltip');
        let tooltipTimer; // íƒ€ì´ë¨¸ ì €ì¥ ë³€ìˆ˜

        // í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ì´ë²¤íŠ¸ ê°ì§€
        input.addEventListener('keydown', function(e) {
            const currentLength = input.value.length;
            
            // í—ˆìš©ë˜ëŠ” ê¸°ëŠ¥í‚¤ë“¤ (ë°±ìŠ¤í˜ì´ìŠ¤, ë”œë¦¬íŠ¸, í™”ì‚´í‘œ ë“±ì€ ë§‰ìœ¼ë©´ ì•ˆ ë¨)
            const allowedKeys = ['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab', 'Enter'];
            
            // 7ê¸€ìê°€ ê½‰ ì°¼ëŠ”ë° + ê¸°ëŠ¥í‚¤ê°€ ì•„ë‹ˆê³  + ì¼ë°˜ í‚¤ë¥¼ ì…ë ¥í•˜ë ¤ í•  ë•Œ
            if (currentLength >= 7 && !allowedKeys.includes(e.key)) {
                showTooltip();
            }
        });

        // íˆ´íŒ ë³´ì—¬ì£¼ê¸° í•¨ìˆ˜
        function showTooltip() {
            tooltip.classList.add('show');
            
            // ê¸°ì¡´ íƒ€ì´ë¨¸ê°€ ìˆë‹¤ë©´ ì·¨ì†Œ (ì—°íƒ€ ë°©ì§€)
            if (tooltipTimer) clearTimeout(tooltipTimer);

            // 1.5ì´ˆ ë’¤ì— ìë™ìœ¼ë¡œ ì‚¬ë¼ì§
            tooltipTimer = setTimeout(() => {
                tooltip.classList.remove('show');
            }, 1500);
        }

        // í¬ì»¤ìŠ¤ë¥¼ ìƒìœ¼ë©´ ì¦‰ì‹œ íˆ´íŒ ë„ê¸°
        input.addEventListener('blur', () => {
            tooltip.classList.remove('show');
        });
    </script>

</body>
</html>